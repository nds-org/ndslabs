<!DOCTYPE html>
<html ng-app="ndslabs">
  <head>
    <title>Labs Workbench</title>
    
    <base href="/">
    
    <!-- TODO: Enforce using .min.js / .min.css everywhere -->
    <!-- TODO: Configure grunt to do this automatically (grunt-usemin) -->
    
    <meta name="charset" value="utf-8" />
    <meta name="robots" value="nofollow noindex" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    
    <link rel="shortcut icon" type="image/x-icon" href="asset/png/favicon-16x16.png" />

    <!-- External CSS -->
    <link rel="stylesheet" type="text/css" href="bower_components/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="bower_components/font-awesome/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="bower_components/font-awesome-animation/dist/font-awesome-animation.min.css">
    <link rel="stylesheet" href="bower_components/ng-tags-input/ng-tags-input.min.css"> 
    
    <!-- Our custom CSS -->
    <link href="dist/main.min.css" rel="stylesheet" type="text/css">
    <style type="text/css">body { font-family: "Roboto", sans-serif !important; }</style>
    
    <!-- Other External JS / CSS -->
    <script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="bower_components/lodash/dist/lodash.min.js"></script>

    <!-- AngularJS + official modules-->
    <script src="bower_components/angular/angular.min.js"></script>
    <script src="bower_components/angular-route/angular-route.min.js"></script>
    <script src="bower_components/angular-resource/angular-resource.min.js"></script>
    <script src="bower_components/angular-animate/angular-animate.min.js"></script>
    <script src="bower_components/angular-cookies/angular-cookies.min.js"></script>
    <script src="bower_components/angular-messages/angular-messages.min.js"></script>
    <script src="bower_components/angular-sanitize/angular-sanitize.min.js"></script>

    <!-- Bridge AngularJS with any external JS / CSS -->
    <script src="bower_components/angular-google-analytics/dist/angular-google-analytics.js"></script>
    <script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>
    <script src="bower_components/angular-swagger-ui/dist/scripts/swagger-ui.js"></script>
    <link rel="stylesheet" href="bower_components/angular-swagger-ui/dist/css/swagger-ui.min.css"> 
    
    <!-- Term.js -->
    <script src="bower_components/term.js/src/term.js"></script>
    
    <!-- Password Gen -->
    <link rel="stylesheet" type="text/css" href="bower_components/angular-bootstrap-pwgen/angular-bootstrap-pwgen.css" />
    <script src="bower_components/angular-bootstrap-pwgen/angular-bootstrap-pwgen.js"></script>
    
    <!-- Password Strength -->
    <script src="bower_components/ng-password-strength/dist/scripts/ng-password-strength.js"></script>
    
    <!-- Angular Clipboard -->
    <script src="bower_components/angular-clipboard/angular-clipboard.js"></script>
    
    <!-- ngTagsInput -->
    <script type="text/javascript" src="bower_components/ng-tags-input/ng-tags-input.min.js"></script>
    
    <!-- Angular Gravatar -->
    <script src="bower_components/angular-gravatar/build/angular-gravatar.js"></script>
    
    <!-- Angular Busy -->
    <link rel="stylesheet" type="text/css" href="bower_components/angular-busy/dist/angular-busy.css" />
    <script src="bower_components/angular-busy/dist/angular-busy.js"></script>
    
    <!-- Load our own custom modules -->
    <script src="bower_components/angular-wizard/angular-wizard.js"></script>
    <script src="bower_components/angular-grid/angular-grid.js"></script>
    <script src="bower_components/angular-alert/angular-alert.js"></script>
    
    <!-- Detect if Google Analytics is blocked by user's ad-blocker -->
    <script src="app/google-analytics.js"></script>
    
    <!-- Finally, load our minified app source -->
    <script src="dist/main.min.js"></script>
  </head>

  <!-- Display the actual contents of the app down here -->
  <body cg-busy="loading">
    
    <!-- This syntax can be used to isolate smaller page templates (such as our navbar and footer) -->
    <!-- NOTE: This method does not produce a navigatable route. For another full page/route, we need to add the route to app.js -->
    <div ng-include src="'app/shared/navbar/navbar.html'" ng-controller="NavbarController"></div> 
    
    <!-- TODO: Source these images locally? Or just get rid of them? -->
    <!--[if IE 6]>
            <p class="browsehappy"><img height="64" width="64" src="http://vignette2.wikia.nocookie.net/logopedia/images/5/5d/IE9.png/revision/latest?cb=20121221232011" />You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    <!--[if IE 7]>
                <p class="browsehappy"><img height="64" width="64" src="https://upload.wikimedia.org/wikipedia/en/1/10/Internet_Explorer_7_Logo.png" />You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    <!--[if IE 8]>
                <p class="browsehappy"><img height="64" width="64" src="http://vignette3.wikia.nocookie.net/logopedia/images/d/d0/IE6.png/revision/latest?cb=20121221232621" />You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    <!--[if IE 9]>
                <p class="browsehappy"><img height="64" width="64" src="http://www.browser-watch.com/wp-content/uploads/2010/09/ie9-logo.png" />You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    
    <!-- ng-view tells angular that we will swap in templates for the route specified by app.js (via ngRoute) -->
    <div class="container" id="appContent" ng-view ng-cloak="loadPromise"></div>
    
    <div ng-include src="'app/shared/footer/footer.html'" ng-controller="FooterController"></div>
    
    <!-- Warn if users ad-blocker will affect their ability to use our site -->
    <!-- Also, detect and prompt users to update incompatible browsers -->
    <script>
      if (window.gaCanRun === undefined) {
        // adblocker detected, show fallback message
        alert("Your ad-blocker appears to be blocking Google Analytics. Labs Workbench does not contain any ads, but we do use Google Analytics to ensure that we are supporting the platforms/browsers utilized by our users. Please disable your ad-blocker for this domain to use Labs Workbench.");
        
        // Several gross hacks to display programmatically display a bootstrap alert
        var DOM_img = document.createElement("div");
        DOM_img.classList.add("alert"); 
        DOM_img.classList.add("alert-danger");
        DOM_img.classList.add("text-center");
        DOM_img.style = "height:130px;width:100%;text-align:center;margin-top:50px;border-radius:10px";
        DOM_img.role = "alert";
        DOM_img.innerHTML = "<i class='fa fa-2x fa-fw fa-hand-stop-o'></i><p>Your ad-blocker appears to be blocking Google Analytics.</p><p>Labs Workbench does not contain any ads, but we do use Google Analytics to ensure that we are supporting the platforms/browsers utilized by our users.</p><p>Please disable your ad-blocker for this domain to use Labs Workbench.</p>";
        document.getElementsByTagName('body')[0].appendChild(DOM_img);
      } else {
        var $buoop = {vs:{i:10,f:-4,o:-4,s:9,c:-4},unsecure:true,api:4}; 
        function $buo_f(){ 
          var e = document.createElement("script"); 
          e.src = "//browser-update.org/update.min.js"; 
          document.body.appendChild(e);
        };
        try {document.addEventListener("DOMContentLoaded", $buo_f,false)}
        catch(e){window.attachEvent("onload", $buo_f)}
      }
    </script>
  </body>
</html>
